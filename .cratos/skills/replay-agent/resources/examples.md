# 리플레이 예제

## 예제 1: 성공적인 실행 리플레이

**사용자 요청**: "방금 한 거 보여줘"

**타임라인 출력**:
```
┌─────────────────────────────────────────────────────────────┐
│ 🔄 리플레이: Issue #123 수정 작업                           │
├─────────────────────────────────────────────────────────────┤
│ [00:00] 📥 입력 수신                                        │
│         "이 GitHub 이슈 고쳐서 PR 만들어줘"                 │
│ [00:02] 📝 계획 수립                                        │
│         목표: Issue #123 해결, PR 생성                      │
│         도구: git, file, github                             │
│ [00:05] 🔧 도구 호출: git_clone                             │
│         입력: { repo: "user/repo" }                         │
│         결과: ✅ 성공                                       │
│ [00:08] 🔧 도구 호출: file_read                             │
│         입력: { path: "src/handler.rs" }                    │
│         결과: ✅ 478 lines                                  │
│ [00:12] 🔧 도구 호출: file_write                            │
│         입력: { path: "src/handler.rs", patch: "..." }      │
│         결과: ✅ +5 -2 lines                                │
│ [00:15] 🔧 도구 호출: exec                                  │
│         입력: { cmd: "cargo test" }                         │
│         결과: ✅ 42 tests passed                            │
│ [00:20] 🔧 도구 호출: github_pr                             │
│         입력: { title: "Fix #123: Add null check" }         │
│         결과: ✅ PR #456 created                            │
│ [00:22] 📤 최종 응답                                        │
│         "PR #456을 생성했습니다. 링크: ..."                 │
└─────────────────────────────────────────────────────────────┘
```

## 예제 2: 실패 리플레이 + 진단

**사용자 요청**: "왜 실패했어?"

**타임라인 출력**:
```
┌─────────────────────────────────────────────────────────────┐
│ 🔄 리플레이: 파일 업로드 작업 (실패)                        │
├─────────────────────────────────────────────────────────────┤
│ [00:00] 📥 입력 수신                                        │
│         "이 파일 S3에 업로드해줘"                           │
│ [00:01] 📝 계획 수립                                        │
│         목표: 파일 S3 업로드                                │
│         도구: file_read, s3_upload                          │
│ [00:03] 🔧 도구 호출: file_read                             │
│         입력: { path: "/tmp/data.csv" }                     │
│         결과: ✅ 1.2MB                                      │
│ [00:05] 🔧 도구 호출: s3_upload                             │
│         입력: { bucket: "my-bucket", key: "data.csv" }      │
│         결과: ❌ 실패                                       │
│ [00:05] 🚨 에러 발생                                        │
│         유형: Permission                                    │
│         메시지: "Access Denied: s3:PutObject"               │
│         복구 가능: true                                     │
└─────────────────────────────────────────────────────────────┘

🩺 진단 결과:
- 원인: AWS IAM 권한 부족
- 해결: s3:PutObject 권한 추가 필요
```

## 예제 3: Dry-Run 모드

**사용자 요청**: "이 작업 dry-run으로 보여줘"

**출력**:
```
┌─────────────────────────────────────────────────────────────┐
│ 🔄 Dry-Run: 데이터베이스 마이그레이션                       │
├─────────────────────────────────────────────────────────────┤
│ ⚠️ 이것은 시뮬레이션입니다. 실제 변경 없음.                │
├─────────────────────────────────────────────────────────────┤
│ 계획된 단계:                                                │
│                                                             │
│ 1. [Read] 마이그레이션 파일 읽기                            │
│    - migrations/001_add_users.sql                          │
│                                                             │
│ 2. [Write] 데이터베이스 스키마 변경                         │
│    - CREATE TABLE users (...)                              │
│    - ⚠️ 되돌릴 수 없는 작업                                │
│                                                             │
│ 3. [Read] 마이그레이션 기록 업데이트                        │
│    - schema_migrations 테이블 INSERT                       │
├─────────────────────────────────────────────────────────────┤
│ 예상 영향:                                                  │
│ - 새 테이블 1개 생성                                        │
│ - 인덱스 2개 생성                                           │
│ - 예상 소요 시간: 2초                                       │
└─────────────────────────────────────────────────────────────┘

[▶️ 실행] [❌ 취소]
```

## 예제 4: 재실행 (Rerun)

**사용자 요청**: "같은 작업 다시 실행해줘"

**출력**:
```
┌─────────────────────────────────────────────────────────────┐
│ 🔄 재실행 중...                                             │
├─────────────────────────────────────────────────────────────┤
│ 원본 실행: abc123 (2024-01-15 10:30)                        │
│ 새 실행: def456 (2024-01-15 11:00)                          │
├─────────────────────────────────────────────────────────────┤
│ 진행 상황:                                                  │
│ [1/4] ✅ 파일 읽기                                          │
│ [2/4] ✅ 코드 수정                                          │
│ [3/4] ⏳ 테스트 실행 중...                                  │
│ [4/4] ⏸️ 대기 중                                            │
└─────────────────────────────────────────────────────────────┘
```
