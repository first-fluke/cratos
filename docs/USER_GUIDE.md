# Cratos 사용 가이드

Cratos를 설치했다면, 이제 Telegram에서 내 PC를 원격 조종해봅시다!

## 목차

1. [기본 사용법](#1-기본-사용법)
2. [파일 작업](#2-파일-작업)
3. [웹 정보 수집](#3-웹-정보-수집)
4. [Git/GitHub 작업](#4-gitgithub-작업)
5. [명령 실행](#5-명령-실행)
6. [되감기 (리플레이)](#6-되감기-리플레이)
7. [승인 설정](#7-승인-설정)
8. [효과적인 사용 팁](#8-효과적인-사용-팁)

---

## 1. 기본 사용법

### 대화 시작하기

Telegram에서 내 봇을 찾아 대화를 시작합니다:

```
나: /start
봇: 안녕하세요! Cratos입니다. 무엇을 도와드릴까요?
```

### 자연어로 말하기

명령어를 외울 필요 없습니다. 그냥 말하면 됩니다:

```
나: 안녕
봇: 안녕하세요! 무엇을 도와드릴까요?

나: Python에서 리스트 정렬하는 방법 알려줘
봇: Python에서 리스트를 정렬하는 방법은...

나: 피보나치 함수 작성해줘
봇: def fibonacci(n):
    ...
```

---

## 2. 파일 작업

내 PC의 파일을 읽고 쓸 수 있습니다.

### 파일 읽기

```
나: /home/user/notes.txt 내용 보여줘
봇: (파일 내용 출력)

나: package.json 읽어서 dependencies 목록 뽑아줘
봇: 다음 의존성이 설치되어 있습니다:
    - react: 18.2.0
    - typescript: 5.0.0
    ...
```

### 파일 쓰기

```
나: memo.txt 파일에 "오늘 할 일: 보고서 작성" 저장해줘
봇: memo.txt에 내용을 저장했습니다.

나: 방금 작성한 코드를 utils.py로 저장해줘
봇: utils.py를 생성했습니다.
```

### 디렉토리 탐색

```
나: 현재 폴더에 뭐 있어?
봇: 현재 디렉토리 내용:
    - src/
    - package.json
    - README.md
    ...

나: src 폴더 안에 .ts 파일 목록 보여줘
봇: TypeScript 파일 목록:
    - index.ts
    - utils.ts
    ...
```

---

## 3. 웹 정보 수집

외출 중에도 웹에서 정보를 가져올 수 있습니다.

### 웹페이지 요약

```
나: https://news.ycombinator.com 인기 기사 5개 요약해줘
봇: Hacker News 인기 기사:
    1. ...
    2. ...
```

### API 호출

```
나: https://api.github.com/users/torvalds 정보 가져와
봇: Linus Torvalds
    - 팔로워: 200k+
    - 공개 레포: 7개
    ...
```

### 링크 저장

```
나: 이 링크 내용 요약해서 notes/article.md로 저장해줘
    https://example.com/interesting-article
봇: 요약을 notes/article.md에 저장했습니다.
```

---

## 4. Git/GitHub 작업

개발 작업을 원격으로 지시할 수 있습니다.

### 상태 확인

```
나: git 상태 알려줘
봇: 현재 브랜치: main
    변경된 파일:
    - src/index.ts (수정됨)
    - package.json (수정됨)

    스테이징되지 않은 변경사항 2개

나: 최근 커밋 5개 보여줘
봇: 최근 커밋:
    1. abc1234 - feat: add login page
    2. def5678 - fix: resolve memory leak
    ...
```

### 원격 개발 지시 (핵심 기능!)

```
나: 이 이슈 고쳐서 PR 올려줘: #123
봇: 이슈 #123을 확인했습니다.

    수행할 작업:
    1. feature/fix-123 브랜치 생성
    2. src/auth.ts 수정
    3. 테스트 실행
    4. PR 생성

    진행할까요? [승인/취소]

나: 승인
봇: 작업 완료!
    - 변경 파일: src/auth.ts
    - 테스트: 통과
    - PR: https://github.com/...
```

### 코드 리뷰 반영

```
나: PR #45 리뷰 코멘트 반영해줘
봇: 리뷰 코멘트 3개를 확인했습니다:
    1. 변수명 변경 필요
    2. 에러 처리 추가
    3. 테스트 케이스 보완

    수정 완료 후 푸시할까요?
```

---

## 5. 명령 실행

내 PC에서 명령을 실행할 수 있습니다.

### 안전한 명령

```
나: pwd 실행해줘
봇: /home/user/projects/myapp

나: npm test 실행해줘
봇: 테스트 결과:
    Tests: 42 passed
    Time: 3.2s
```

### 위험한 명령

파일 삭제 등 위험한 명령은 승인이 필요합니다:

```
나: temp 폴더 삭제해줘
봇: ⚠️ 위험한 작업 승인 요청

    작업: rm -rf ./temp
    영향: temp 폴더와 내부 파일 10개 삭제

    [승인] [취소]

나: 승인
봇: temp 폴더를 삭제했습니다.
```

---

## 6. 되감기 (리플레이)

Cratos가 한 모든 작업은 기록됩니다.

### 최근 작업 확인

```
나: 방금 뭐 했어?
봇: 최근 실행 (2분 전):
    1. ✓ 파일 읽기: package.json
    2. ✓ LLM 분석
    3. ✓ 응답 생성

    소요 시간: 2.3초
```

### 타임라인 보기

```
나: 마지막 실행 타임라인 보여줘
봇: 실행 #42 타임라인:

    [00:00] 입력: "이슈 #123 고쳐줘"
    [00:02] 계획 수립: 브랜치 생성 → 코드 수정 → 테스트 → PR
    [00:05] 도구: git checkout -b fix-123
    [00:08] 도구: file_write src/auth.ts
    [00:15] 도구: npm test
    [00:25] 도구: gh pr create
    [00:30] 완료
```

### 다시 실행

```
나: 방금 작업 다시 실행해줘
봇: 실행 #42를 다시 실행합니다...

나: dry-run으로 실행해봐 (실제 변경 없이)
봇: [DRY-RUN] 다음 작업을 수행할 예정입니다:
    - git checkout -b fix-123
    - src/auth.ts 수정
    - npm test 실행
    실제 변경은 없습니다.
```

---

## 7. 승인 설정

작업 승인 방식을 설정할 수 있습니다.

### 승인 모드

| 모드 | 설명 |
|------|------|
| `always` | 모든 작업 전 확인 |
| `risky_only` | 위험한 작업만 확인 (기본값) |
| `never` | 확인 없이 바로 실행 |

### 설정 변경

```
나: 승인 모드를 always로 바꿔줘
봇: 승인 모드를 'always'로 변경했습니다.
    이제 모든 작업 전 확인을 요청합니다.
```

### 위험 작업 목록

다음 작업은 `risky_only` 모드에서 승인이 필요합니다:
- 파일 삭제/수정
- Git push/force push
- PR 생성
- 시스템 명령 실행

---

## 8. 효과적인 사용 팁

### DO: 명확하게 요청하기

```
✗ 파일 좀 봐줘
✓ /home/user/config.json 파일 읽어서 database 설정 부분만 보여줘
```

### DO: 경로 명시하기

```
✗ README 파일 수정해줘
✓ /projects/myapp/README.md에 설치 방법 섹션 추가해줘
```

### DO: 단계별로 요청하기

복잡한 작업은 나눠서:

```
나: 1. 먼저 현재 브랜치 알려줘
봇: main 브랜치입니다.

나: 2. feature/login 브랜치 만들어줘
봇: 브랜치를 생성했습니다.

나: 3. src/login.ts 파일 만들어줘
봇: 파일을 생성했습니다.
```

### DON'T: 민감한 정보 전송

```
✗ API 키는 sk-xxx... 야
✓ .env 파일에서 API 키 읽어서 사용해
```

### 비용 절감 팁

- 불필요한 대화 줄이기 (LLM API 비용 발생)
- Ollama(무료 로컬 모델) 사용 고려
- 간단한 질문은 짧게

---

## 도움이 필요하면

```
나: 도움말
나: /help
```

또는 [GitHub Issues](https://github.com/cratos/cratos/issues)에서 문의하세요.
